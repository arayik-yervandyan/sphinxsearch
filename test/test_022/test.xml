<?xml version="1.0" encoding="utf-8"?>
<test>

<name>wordforms vs case folding</name>

<config>
indexer
{
	mem_limit		= 16M
}

searchd
{
	<searchd_settings/>
compat_sphinxql_magics = 1
}

source srctest
{
	type			= mysql
	<sql_settings/>

	sql_query		= SELECT * FROM test_table
}

index test
{
	source			= srctest
	path			= <data_path/>/test
    charset_type 	= utf-8
	wordforms		= wordforms.txt
}

source src_num
{
	type			= mysql
	<sql_settings/>

	sql_query		= SELECT 1 id, 11 idd, 's01e01 stuff' text UNION SELECT 2 id, 11 idd, 'season 1 episode 1 stuff' text
	sql_attr_uint = idd
}

index test_num
{
	source			= src_num
	path			= <data_path/>/test_num
	wordforms		= <this_test/>/wf_num.txt
}
</config>

<queries>
<query index="test">FOLDED</query>
<query index="test">folded</query>
<query index="test">shortform</query>
<query index="test">sOMEwHATmORElONGfORMtHATwOULDoVERFLOWsHORTfORMbUFFER</query>
<query index="test_num">s01e01</query>
<query index="test_num">season 1 episode 1</query>
</queries>

<db_create>
CREATE TABLE `test_table`
(
	`document_id` int(11) NOT NULL default '0',
	`body` varchar(255) NOT NULL default ''
)
</db_create>

<db_drop>
DROP TABLE IF EXISTS `test_table`
</db_drop>

<db_insert>
INSERT INTO `test_table` VALUES
( 1, 'test FoLdEd' ),
( 2, 'folded' ),
( 3, 'shortform' ),
( 4, 'SomeWhatMoreLongFormThatWouldOverflowShortFormBuffer' )
</db_insert>

</test>